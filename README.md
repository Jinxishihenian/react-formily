Formily 实践/二次封装.

业务场景,关于中后台 Table 筛选表单 使用 Formily封装.
1.为什么要封装表单?
2.表单的那一部分需要封装/那一部分是可以封装的?
  布局/UI风格/按钮组/通用行为,展开,收起,重置,初始化,表单防抖.
  公共表单项(拆为两层 1.基础组件 2.专用业务组件时基于基础组件的二次封装.).
  Formily form 里处理业务逻辑采用依赖注入方式(业务解耦),都在form的副作用中处理集中逻辑.
  公共校验库/工具函数防抖/格式化表单数据.
3.Formily 可以带来什么?
  form 对于表单所有输入项的控制句柄.
  JSON Schema 的书写风格(低代码,风格).
  提供表单的生命周期钩子函数.
  表单内部的状态管理/状态隔离,在React表现为不受控组件.
  表单项的与后台数据风格保持一致.
4.在利用Formily (Table 筛选表单封装)二次封装的时候该采用那种风格来封装?
  表单封装,逻辑分四层.
  1：基础层(公共交互,布局抽离).
  2：业务逻辑(基础层+服务层+业务逻辑,利用Formily中的form完成业务逻辑的剥离,与集中+公共表单项层)层基于基础层扩展生成(这个类似容器层,复杂业务逻辑封装到hooks中保持Schema的整洁性).
  3：服务层(提供表单初始化数据源(基于 React Query)比如下拉数据,数据源加载状态,供业务逻辑层调用).
  4：公共表单项层(通用的FormInput项+基于通用FormInput特异化出来的通用业务公用输入框).
  公共库.
  1：公共校验库.
  2：防抖工具函数.
  3：特殊格式转换(日期,数据合成).

  表单行为保持一致.
  1：返回一个筛选对象.
  2：职责最小化.

可能存在问题.
  1：封装的FormInput直接可能存在交互行为由谁控制?
  2：表单初始化问题.
